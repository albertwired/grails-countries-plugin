<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Plugin to deal with contries and continents 0.4</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#guide"><strong>1</strong><span>Guide</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Countries - a way to deal with continents and countries in Grails applications.</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Plugin to deal with contries and continents - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Stefan Armbruster</p>
                            <p><strong>Version:</strong> 0.4</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#guide"><strong>1</strong><span>Guide</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        
<a name="1. Guide"><!-- Legacy link --></a>
<h1 id="guide">1 Guide</h1>
<h2>Introduction</h2>
A common requirement in many applications is to deal with countries and/or continents. The plugin's goal is to apply the DRY principle to these requirements.<p class="paragraph"/>In short, the plugin offers:
<ul class="star">
<li>populated domain classes for countries and continents</li>
<li>i18n for continent and country names (for now, af, de, en, es fr, it, nb_NO and pt_BR locales)</li>
<li>tags for simple usage of</li>
<ul class="star">
<li>localized names</li>
<li>select boxes: for all countries, for all continents, for all countries of a continent or for a defined set of countries. The select box contents are automatically sorted by the the localized country/continent name.</li>
</ul></ul><p class="paragraph"/>In future this plugin will be extended, some ideas are
<ul class="star">
<li>provide a IP address -&#62; country conversion</li>
<li>add more languages</li>
<li>provide templates for scaffolding</li>
</ul><p class="paragraph"/>The plugin is licensend under the Apache Public license.<p class="paragraph"/><h3>authors and contributors</h3><p class="paragraph"/>The plugin is authored by Stefan Armbruster.<p class="paragraph"/>Contributors:
<ul class="star">
<li>Robert Fletcher: translation to Afrikaans (af)</li>
<li>Christopher Kolstad: translation to Norge (nb_NO)</li>
<li>Luxas Teixeira: translations to Spanish (es), French (fr), Italian (it), Portugese (pt_BR)</li>
</ul><p class="paragraph"/><h2>Installation</h2><p class="paragraph"/>Installation is done like every other plugin:
<div class="code"><pre>grails install&#45;plugin countries</pre></div><p class="paragraph"/>When starting up the application, the Country and Continent domain classes are populated during the bootstrapping process. The list of available countries is loaded from web-app/countries.csv, web-app/domains.csv and web-app/capitals.csv. If your application needs only a subset of the complete list, copy countries.csv to your app's web-app and remove countries out of scope.
If you need the rebuild the complete country list, call 'grails fetch-country-list'.<p class="paragraph"/><h2>Domain classes</h2>
The plugin contains three domain classes. <code>grails.plugin.countries.Region</code> is an abstract base class for <code>grails.plugin.countries.Country</code> and <code>grails.plugin.countries.Continent</code>. continent and country are related to each other with a bidirectional 1:n relation, so each continent has multiple countries and each country refers to one continent. The Country domain class holds the 2- and 3 letter codes of ISO 3166 as well as the name of country's capital. N.B. the country name itself is not stored in the domain class but is available in i18n properties files by following the convention <code>country.&#60;3 letter code&#62;</code>. So when e.g. lookup up localized names for Germany, you have to use property <code>country.GER</code>. The same applies for continents. Since there seems no standard abbreviation for continents the plugin uses:
<ul class="star">
<li>AF: Afrika</li>
<li>AS: Asia</li>
<li>OC: Australia</li>
<li>EU: Europe</li>
<li>NA: North America</li>
<li>SA: South America</li>
<li>AN: Antarctica</li>
</ul><p class="paragraph"/>The domainclasses are populated during Grails' bootstrap process, so we have 252 countries for now.
<blockquote class="warning">
The author cannot assure that the country data is 100% accurate. If a country is missing in the list, or any errors are found, please file a JIRA.
</blockquote><p class="paragraph"/><h2>TagLib</h2>
The plugin comes with a taglib providing easy access to localized filenames and for country/continent related select boxes. For details, see the tag description in the left hand frame.<p class="paragraph"/><h2>Example</h2>
This short example demonstrates the usage and the capabilities of the plugin. It is assumed that you have created some grails project. A domain class <code>Address</code> uses <code>Country</code> :
<div class="code"><pre>import grails.plugins.countries.Country<p class="paragraph"/>class Address &#123;
	String street
	String no
	String zip
	String city
	String state
	Country country
&#125;</pre></div><p class="paragraph"/>Assume a gsp used for creating address labels, the controller exposes a <code>Address</code> instance using <code>address</code>:<p class="paragraph"/><div class="code"><pre>Placeholder <span class="java&#45;keyword">for</span> name
$&#123;address.street&#125; $&#123;address.no&#125;
$&#123;address.zip&#125; $&#123;address.city&#125; $&#123;address.state&#125;<p class="paragraph"/>&#60;country:name object=<span class="java&#45;quote">"$&#123;address.country&#125;"</span>/&#62;</pre></div><p class="paragraph"/>During data entry, a select box should be used. The box should display each available country:<p class="paragraph"/><div class="code"><pre>&#8230;
&#60;country:select name=<span class="java&#45;quote">"country.id"</span> value=<span class="java&#45;quote">"$&#123;fieldValue(bean:address,field:'country.id')&#125;"</span> noSelection=<span class="java&#45;quote">"&#91;'':'select please:'&#93;"</span>/&#62;
...</pre></div><p class="paragraph"/><h2>release history</h2>
<ul class="star">
<li>0.4.0 2012-09-20</li>
<ul class="star">
<li>upgrade to Grails 2.1.0</li>
<li>adding spock tests for taglib</li>
<li>upgrade country data from wikipedia</li>
<li>introduced Region as abstract base class</li>
</ul>
<li>0.2.1</li>
<ul class="star">
<li>added contributed language nb_NO, cheers to Christopher Kolstad</li>
<li>changed mapping of Country.key and Continent.key to 'ckey' in the database, since some db's don't like 'key' as a column name</li>
<li>introduced Region domain class: Country and Continent are now subclasses of Region</li>
<li>locale dependent sorting using Collators in Taglib</li>
</ul>
<li>0.2 2010-08-07:</li>
<ul class="star">
<li>added languages:</li>
<ul class="star">
<li>af: contributed by Robert Fletcher</li>
<li>es, fr, it, pt_BR: contributed by Lucas Frare Teixeira</li>
</ul>
<li>country list is now maintained out CountryBootstrap.groovy in a seperate csv file</li>
<li>reworked properties file to consistently use ISO-3166 3-letter-code as key</li>
</ul>
<li>0.1.1 2010-08-04: bugfix: plugin unusable with Grails &#60;= 1.3.3</li>
<li>0.1 2010-08-04: initial release</li>
</ul><p class="paragraph"/>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Scripts</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Scripts/fetch-country-list.html">fetch-country-list</a>
                        </div>
                        
                        </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Tags</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Tags/name.html">name</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Tags/select.html">select</a>
                        </div>
                        
                        <div class="menu-item"><a href="../ref/Tags/selectContinent.html">selectContinent</a>
                        </div>
                        
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
