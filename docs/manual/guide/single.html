<html>
    <head>
        <title>countries 0.1 - Reference Documentation</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Style" charset="utf-8"/>
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    </head>
    <body class="body">
        <div id="header">
            <div class="images"><br/><br/>
                <a href="http://grails.org" target="_blank"><img alt="The Grails Framework" src="../img/grails.png" border="0"/></a>
                <span style="right:30px; top:20px; position:absolute;">
                    <a href="../index.html" target="_top">Frames</a> | <a href="index.html" target="_top">No Frames</a><br/><br/>
                    <a href="http://springsource.com" target="_blank"><img alt="SpringSource - A Division of VMware" src="../img/springsource-logo.png" border="0"/></a>
                </span>
            </div>
            <div class="message">countries</div>
            <h1>countries - Reference Documentation</h1>
            <p><strong>Authors:</strong> Stefan Armbruster</p>
            <p><strong>Version:</strong> 0.1</p>
            <em></em>
        </div>

        <div id="toc">
            <h2>Table of Contents</h2>
            <div class="tocItem" style="margin-left:0px"><a href="#1. Guide">1. Guide</a></div>
        </div>
        <div id="content">
            <h1><a name="1. Guide">1. Guide</a></h1><h2>Introduction</h2>
A common requirement in many applications is to deal with countries and/or continents. The plugin's goal is to apply the DRY principle to these requirements.<p class="paragraph"/>In short, the plugin offers:
<ol>
<li>populated domain classes for countries and continents</li>
<li>i18n for continent and country names (for now, only en and de locales)</li>
<li>tags for simple usage of</li>
<ol>
<li>localized names</li>
<li>select boxes: for all countries, for all continents, for all countries of a continent or for a defined set of countries</li>
</ol></ol><p class="paragraph"/>In future this plugin will be extended, some ideas are
<ol>
<li>provide a IP address -&#62; country conversion</li>
<li>add more languages</li>
<li>provide templates for scaffolding</li>
</ol><p class="paragraph"/>The plugin is licensend under the <a href="http://sam.zoy.org/wtfpl/" target="blank">WTFPL</a>.<p class="paragraph"/><h2>Installation</h2><p class="paragraph"/>Installation is done like every other plugin:
<div class="code"><pre>grails install&#45;plugin countries</pre></div><p class="paragraph"/>When starting up the application, the Country and Continent domain classes are populated during the bootstrapping process.<p class="paragraph"/><h2>Domain classes</h2>
The plugin contains two domain classes <code>grails.plugin.countries.Country</code> and <code>grails.plugin.countries.Continent</code>. The are related to each other with a bidirectional 1:n relation, so each continent has multiple countries and each country refers to one continent. The Country domain class holds the 2- and 3 letter codes of ISO 3166 as well as the name of country's capital. N.B. the country name itself is not stored in the domain class but is available in i18n properties files by following the convention <code>country.&#60;3 letter code&#62;</code>. So when e.g. lookup up localized names for Germany, you have to use property <code>country.GER</code>. The same applies for continents. Since there seems no standard abbreviation for continents the plugin uses:
<ol>
<li>afa: Afrika</li>
<li>asa: Asia</li>
<li>aus: Australia</li>
<li>eur: Europe</li>
<li>nam: North America</li>
<li>sam: South America</li>
</ol><p class="paragraph"/>The domainclasses are populated during Grails' bootstrap process, so we have 190 countries for now.
<blockquote class="warning">
The author cannot assure that the country data is 100% accurate. If a country is missing in the list, or any errors are found, please file a JIRA.
</blockquote><p class="paragraph"/><h2>TagLib</h2>
The plugin comes with a taglib providing easy access to localized filenames and for country/continent related select boxes. For details, see the tag description in the left hand frame.<p class="paragraph"/><h2>Example</h2>
This short example demonstrates the usage and the capabilities of the plugin. It is assumed that you have created some grails project. A domain class <code>Address</code> uses <code>Country</code> :
<div class="code"><pre>class Address &#123;
	String street
	String no
	String zip
	String city
	String state
	Country country
&#125;</pre></div><p class="paragraph"/>Assume a gsp used for creating address labels, the controller exposes a <code>Address</code> instance using <code>address</code>:<p class="paragraph"/><div class="code"><pre>Placeholder <span class="java&#45;keyword">for</span> name
$&#123;address.street&#125; $&#123;address.no&#125;
$&#123;address.zip&#125; $&#123;address.city&#125; $&#123;address.state&#125;<p class="paragraph"/>&#60;country:name object=<span class="java&#45;quote">"$&#123;address.country&#125;"</span>/&#62;</pre></div><p class="paragraph"/>During data entry, a select box should be used. The box should display each available country:<p class="paragraph"/><div class="code"><pre>&#8230;
&#60;country:select name=<span class="java&#45;quote">"country.id"</span> value=<span class="java&#45;quote">"$&#123;fieldValue(bean:address,field:'country.id')&#125;"</span> noSelection=<span class="java&#45;quote">"&#91;'':'select please:'&#93;"</span>/&#62;
...</pre></div>

        </div>
        <div id="footer">
             
        </div>
    </body>
</html>
